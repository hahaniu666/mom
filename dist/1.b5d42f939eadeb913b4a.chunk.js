webpackJsonp([1],{

/***/ 393:
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(429)

var Component = __webpack_require__(70)(
  /* script */
  __webpack_require__(411),
  /* template */
  __webpack_require__(501),
  /* scopeId */
  null,
  /* cssModules */
  null
)
Component.options.__file = "/Users/hahaniu/data0/aa/Circle_html/1/src/views/pages/baidumap3.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] baidumap3.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-loader/node_modules/vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-568b0fdf", Component.options)
  } else {
    hotAPI.reload("data-v-568b0fdf", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),

/***/ 402:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "aff6a27d73577cf8e9a188c17b8a9455.png";

/***/ }),

/***/ 403:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAACUElEQVRIS8WXv2sUURDHP+NFIwY1kSgI8VfgBMFSSJFCsNBO0UbiP2BAIUXAKklhVISQQjCo/4BiI4SAaATFQojEVpCAPxArz2TDSdDzzhuZvd3zsrnLvs0dm9ctO/M+b+Z9Z3ZWcFiq2g6cBs4AJ4BeoCtw9YBPwDtgFnguIoW4bWU9A1XtBIaBQaA7brPg/Q/gPjApIsuNfBqCVXUAuAPsdQRGzXLAkIg8que/BqyqbcBd4PIGgVG3B8BVESnVvlgFDqCPgQstgobbPAEu1sKjYLubVkW6JnIRMa34qwoO7vRhiyONbncpvHMfHKh3oQkhuZ7XBHfU1B6CrwOjrt5N2o2LyJgEzeFbgjqtyy2Ulbk8nOxctzWYr9V5j4HPAtMbjSL3R3nmwUsPjnXAtQOxYEOdM7DV7JUkYAU+rChPl2D+J5QD57FDcLzDCTxl4DmgzwVcLMObfAX45fdqj4PtMNEriBOXtwb+Hqdmr6jMevDCg/zf+kcc3A+nutyoQM7ARcDaZN31fkW5/RUKlt8Ga2cG7mWFbVtc8ubblGLBZmUCmlmCV179A5zvhoF9ztFWwbGpDuPIl5SZRZhe/B9ZBpjKwp6ticB+qp3FFeJGPisLvypP/btgqCcR1Nx8cSUup/m8MmEtB7h5GLI7EoP9ckrcQFRh+KOyPQO3jiSGVhuIzVOJW+brZaVNoH93YnClZRpeVceBEediaM7whoiMbu5nMYjahrt0B4Ewc6qa/ugTRG2tM/1hrwae7nhbK9bUB/oIPP1fmMgBWv7T9g+msfcnIRyLsgAAAABJRU5ErkJggg=="

/***/ }),

/***/ 404:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAADCklEQVRIS8WXS0hUURjHfyc1pzHNR0qaj5okekEEgZvWWS0KatELKQjKKCoqKCldaCD2oDfWItopbYLaRFarMgzcRZRWmo/KtLRJ1BlfX5yZOzleZ+4dapjO8p57vt/3P+f/ffdcRQRDRBKB9UAxsBZwAWnG0gGgDWgGGoDHSimvXVhl9YKIpAIngFJgvl0wY/47cAu4pJT6GW5NWLCI7ASuApkRAs2v9QFHlVL1odbPAItIPHADOPCXQPOy28BhpdR48MQ0sAG9B2yNEjQQ5j6wPRhuBuuziZbSGcqVUtorvvEHbJxpXZSVmsPtCpy5D2y4t/UfjBRpvtpwS7XbA+BKoDzS1T2jQqMbnLNgRRIUOCyr0hy2SilVoYzm0G1Vp0MTwphAarwf8HRAqO+FkUkYF1jphP3ZkJ0YUQK6znM1eDPwIJza9yNCdSd4J+FkLqxJngquk2keFOq+wa8JOJ0Hy5Migm/RYF2zh8KBS1uFfqMCk+PgeiE44xTnO4WhSdiQBqvnQk0XfPJA9WLIsVd+U4ObgKJw4JK3glemZi+6IN+heOEWng3Am2EoToMdWXCqDbISoGKRrepXGtxr5eaqDuH1kB+8KR32Lpge9FG/cLcHji0EpeByN1xw2RquT4PHAN0mQ46XbuHKZ//UkRxYlzpTTWWH+ExWXqDY804oyYKNGZaqx23BkwJn2oWPHsiIhxoXpBjuDmSqt/25G8ryFftaxLcz2zLtwZZbrYN3eYSydhgVWOLQyvwGCzWeDAirnLal5dtqS3MFggdvucuh1cE8Q3mnR8hIgKQwyYRI0Gcuy3IKXtTQL9zpAW3y9HjYnQUdXnj4w9/FDuZAUYqto3VIXzlZNhBzto1uofaLf9vNIw64VgiZs23hvgai71OWLdMM0Gde+xU+jEyf0ao12Gw+03p/y9QPRaQKOBuupEI9F4GmQX8TaRmGObPgeB4sc9qqPaeUKv+/n0VDtb7cxfYiENhKEYn91cdQrVtn7C97QfDYXm+D3RvzC70JHvtfGFMCUf9p+w2gmkE2VFMapAAAAABJRU5ErkJggg=="

/***/ }),

/***/ 411:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ __webpack_exports__["default"] = ({
    data() {
        return {
            cityName: '',
            address_detail: "浙江省杭州市下城区绍兴路161号", //详细地址
            userlocation: { lng: "", lat: "" },
            clearable: true,
            suggestId: "suggestId",
            map: {},
            mk: {},
            isActive: true,
            modal10: false
        };
    },
    created() {},
    methods: {
        loadBMapScript() {
            let script = document.createElement('script');
            script.src = 'http://api.map.baidu.com/api?v=3.0&ak=AA9iQNKiR6Dp8YKZnMQjGSev&callback=bMapInit';
            document.body.appendChild(script);
        },
        myFun(result) {
            var cityName = result.name;
            this.map.setCenter(cityName);
            this.cityName = cityName;
            console.log("当前定位城市:" + cityName);
            // alert("当前定位城市:" + cityName);
        },
        drawMap() {
            this.map = new BMap.Map("map_canvas"); // 创建地图实例
            this.map.addControl(new BMap.NavigationControl()); // 启用放大缩小 尺
            this.map.addControl(new BMap.NavigationControl());
            //OverviewMapControl 缩略地图控件，默认位于地图右下方，是一个可折叠的缩略地图
            this.map.addControl(new BMap.OverviewMapControl());
            //ScaleControl：比例尺控件，默认位于地图左下方，显示地图的比例关系。
            this.map.addControl(new BMap.ScaleControl());
            //MapTypeControl：地图类型控件，默认位于地图右上方。
            // this.map.addControl(new BMap.MapTypeControl());
            //CopyrightControl：版权控件，默认位于地图左下方
            this.map.addControl(new BMap.CopyrightControl());

            let x = document.body.clientWidth / 2 - 20;
            let y = document.body.clientHeight / 2 - 100;

            var opts = { offset: new BMap.Size(x, y) };
            this.map.addControl(new BMap.GeolocationControl(opts));

            this.map.enableScrollWheelZoom();
            this.getlocation(); //获取当前坐标, 测试时获取定位不准。


            var point = new BMap.Point(116.40387397, 39.91488908); // 创建点坐标
            this.map.centerAndZoom(point, 13); // 初始化地图，设置中心点坐标和地图级别
            var marker = new BMap.Marker(point); // 创建标注
            this.map.addOverlay(marker); // 将标注添加到地图中


            // 获取当前位置信息
            let myCity = new BMap.LocalCity();
            myCity.get(this.myFun);

            var ac = new BMap.Autocomplete({
                //建立一个自动完成的对象
                input: "suggestId",
                location: this.map
            });
            // var myValue;
            // ac.addEventListener("onconfirm", (e) => {
            //     //鼠标点击下拉列表后的事件
            //     var _value = e.item.value;
            //     myValue = _value.province + _value.city + _value.district + _value.street + _value.business;
            //
            //     console.log('浙江省杭州市下城区绍兴路161号',myValue);
            //
            //     this.address_detail = myValue;
            //     this.setPlace();
            // });

            this.search();
        },
        getMarker(point) {
            this.mk = new BMap.Marker(point);
            this.mk.addEventListener("dragend", this.showInfo);
            this.mk.enableDragging(); //可拖拽
            // this.getAddress(point);
            this.map.addOverlay(this.mk); //把点添加到地图上
            this.map.panTo(point);
        },
        getlocation() {
            //获取当前位置
            var geolocation = new BMap.Geolocation();
            geolocation.getCurrentPosition(r => {
                if (geolocation.getStatus() == BMAP_STATUS_SUCCESS) {
                    console.log('r.point', r.point);
                    this.getMarker(r.point);
                    this.userlocation = r.point;
                } else {
                    alert('failed' + this.getStatus());
                }
            });
        },
        //绑定Marker的拖拽事件
        showInfo(e) {
            var gc = new BMap.Geocoder();
            gc.getLocation(e.point, rs => {
                var addComp = rs.addressComponents;
                var address = addComp.province + addComp.city + addComp.district + addComp.street + addComp.streetNumber; //获取地址

                //画图 ---》显示地址信息
                var label = new BMap.Label(address, { offset: new BMap.Size(20, -10) });
                this.map.removeOverlay(this.mk.getLabel()); //删除之前的label

                this.mk.setLabel(label);
                console.log('浙江省杭州市下城区绍兴路161号', address);

                this.address_detail = address;
                this.userlocation = e.point;
            });
        },
        //获取地址信息，设置地址label
        getAddress(point) {
            var gc = new BMap.Geocoder();

            gc.getLocation(point, rs => {
                var addComp = rs.addressComponents;
                var address = addComp.province + addComp.city + addComp.district + addComp.street + addComp.streetNumber; //获取地址

                //画图 ---》显示地址信息
                var label = new BMap.Label(address, { offset: new BMap.Size(20, -10) });
                this.map.removeOverlay(this.mk.getLabel()); //删除之前的label

                console.log('address', address);
                this.address_detail = address;
                this.mk.setLabel(label);
            });
        },
        setPlace() {
            this.map.clearOverlays(); //清除地图上所有覆盖物
            var th = this;

            function myFun() {
                th.userlocation = local.getResults().getPoi(0).point; //获取第一个智能搜索的结果
                th.map.centerAndZoom(th.userlocation, 18);
                th.getMarker(th.userlocation);
            }

            var local = new BMap.LocalSearch(this.map, {
                onSearchComplete: myFun //智能搜索
            });
            local.search(this.address_detail);
        },
        search() {
            var localSearch = new BMap.LocalSearch(this.map);

            console.log('localSearch', localSearch);
            localSearch.enableAutoViewport(); //允许自动调节窗体大小
            this.searchByInputName(localSearch);
        },
        searchByInputName(localSearch) {
            this.map.clearOverlays(); //清空原来的标注
            var th = this;
            var keyword = this.address_detail;
            localSearch.setSearchCompleteCallback(function (searchResult) {
                var poi = searchResult.getPoi(0);
                th.userlocation = poi.point;
                th.map.centerAndZoom(poi.point, 13);
                console.log('th.userlocation', th.userlocation);
                th.getMarker(th.userlocation);
            });
            localSearch.search(keyword);
        },
        onCopy(e) {

            console.log('12', e);
        },
        onError(e) {
            console.log('22');
        },

        show() {
            console.log('isActive', this.isActive);

            this.isActive = !this.isActive;
        }

    },
    mounted() {
        // this.loadBMapScript();
        console.log(document.body.clientWidth);
        this.$nextTick(function () {
            this.drawMap();
        });
    }
});

/***/ }),

/***/ 429:
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),

/***/ 501:
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "parent"
  }, [_c('Button', {
    on: {
      "click": function($event) {
        _vm.modal10 = true
      }
    }
  }, [_vm._v("Vertical center")]), _vm._v(" "), _c('Modal', {
    attrs: {
      "title": "Title",
      "class-name": "vertical-center-modal"
    },
    model: {
      value: (_vm.modal10),
      callback: function($$v) {
        _vm.modal10 = $$v
      },
      expression: "modal10"
    }
  }, [_c('p', [_vm._v("Content of dialog")]), _vm._v(" "), _c('p', [_vm._v("Content of dialog")]), _vm._v(" "), _c('p', [_vm._v("Content of dialog")])]), _vm._v(" "), _c('div', {
    staticClass: "search-wrap"
  }, [_c('div', {
    staticClass: "box"
  }, [_c('div', {
    staticClass: "city"
  }, [_vm._v(_vm._s(_vm.cityName))]), _vm._v(" "), _c('div', {
    staticClass: "line"
  }), _vm._v(" "), _c('input', {
    staticClass: "input-box",
    attrs: {
      "placeholder": "请输入小区或商圈"
    }
  })])]), _vm._v(" "), _c('div', {
    staticClass: "allmap",
    attrs: {
      "id": "map_canvas"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "message-wrap",
    class: {
      active: !_vm.isActive
    }
  }, [_c('div', {
    staticClass: "message-box"
  }, [_c('div', {
    staticClass: "mes-top"
  }, [_c('div', {
    staticClass: "mes-left"
  }, [_c('div', {
    staticClass: "left-top"
  }, [_c('Icon', {
    attrs: {
      "type": "ios-location"
    }
  }), _vm._v(" "), _c('span', [_vm._v("蓝光·COCO时代")])], 1), _vm._v(" "), _c('div', {
    staticClass: "left-b"
  }, [_vm._v("\n                        距离你最近有1家荟贝佳母婴馆\n                    ")])]), _vm._v(" "), _c('div', {
    staticClass: "mes-r",
    on: {
      "click": _vm.show
    }
  }, [(_vm.isActive) ? _c('Icon', {
    attrs: {
      "type": "chevron-up"
    }
  }) : _vm._e(), _vm._v(" "), (!_vm.isActive) ? _c('Icon', {
    attrs: {
      "type": "chevron-down"
    }
  }) : _vm._e()], 1)]), _vm._v(" "), (!_vm.isActive) ? _c('div', {
    staticClass: "mes-bot"
  }, [_c('img', {
    attrs: {
      "src": __webpack_require__(402),
      "alt": ""
    }
  }), _vm._v(" "), _vm._m(0)]) : _vm._e()]), _vm._v(" "), _c('div', {
    staticClass: "message-bot-box"
  }, [_c('div', {
    staticClass: "mes-b-top"
  }, [_vm._m(1), _vm._v(" "), _c('button', {
    directives: [{
      name: "clipboard",
      rawName: "v-clipboard:copy",
      value: (_vm.address_detail),
      expression: "address_detail",
      arg: "copy"
    }, {
      name: "clipboard",
      rawName: "v-clipboard:success",
      value: (_vm.onCopy),
      expression: "onCopy",
      arg: "success"
    }, {
      name: "clipboard",
      rawName: "v-clipboard:error",
      value: (_vm.onError),
      expression: "onError",
      arg: "error"
    }],
    staticClass: "add",
    attrs: {
      "type": "button"
    }
  }, [_vm._v("申请加群!\n                ")])]), _vm._v(" "), _c('div', {
    staticClass: "center-line"
  }), _vm._v(" "), _vm._m(2)])]), _vm._v(" "), _c('div', {}, [_c('div', [_c('div', [_vm._v("\"当前定位城市:\" + " + _vm._s(_vm.cityName))]), _vm._v(" "), _c('div', [_c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: (_vm.address_detail),
      expression: "address_detail"
    }],
    attrs: {
      "id": "suggestId",
      "clearable": _vm.clearable,
      "placeholder": "请输入店铺地址,获取店铺坐标"
    },
    domProps: {
      "value": (_vm.address_detail)
    },
    on: {
      "input": function($event) {
        if ($event.target.composing) { return; }
        _vm.address_detail = $event.target.value
      }
    }
  })]), _vm._v(" "), _c('div', [_c('button', {
    attrs: {
      "id": "position",
      "type": "primary"
    },
    on: {
      "click": _vm.search
    }
  }, [_vm._v("定位")])]), _vm._v(" "), _c('div', [_c('div', [_vm._v("经度 " + _vm._s(_vm.userlocation.lng))]), _vm._v(" "), _c('div', [_vm._v("纬度 " + _vm._s(_vm.userlocation.lat))])])]), _vm._v(" "), _c('div', [_c('div', {
    attrs: {
      "offset": 2,
      "span": 18
    }
  })])])], 1)
},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "m-b-right"
  }, [_c('div', {
    staticClass: "r-title"
  }, [_vm._v("荟贝佳母婴馆（八里小区店）")]), _vm._v(" "), _c('div', {
    staticClass: "r-center"
  }, [_vm._v("成都市成华区八里小区怡福路57号")]), _vm._v(" "), _c('div', {
    staticClass: "r-bottom"
  }, [_c('span', [_vm._v("距离你860m")]), _vm._v(" "), _c('div', {
    staticClass: "r-img-wrap"
  }, [_c('img', {
    attrs: {
      "src": __webpack_require__(404),
      "alt": ""
    }
  }), _vm._v(" "), _c('img', {
    attrs: {
      "src": __webpack_require__(403),
      "alt": ""
    }
  })])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "mes-b-top-left"
  }, [_c('img', {
    attrs: {
      "src": __webpack_require__(402),
      "alt": ""
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "detail"
  }, [_c('div', {
    staticClass: "top"
  }, [_c('span', [_vm._v("小荟")]), _vm._v(" "), _c('span', [_vm._v("该区域妈妈群管理员")])]), _vm._v(" "), _c('div', {
    staticClass: "bot"
  }, [_c('span', {
    staticClass: "color1"
  }, [_vm._v("孕期指导")]), _vm._v(" "), _c('span', {
    staticClass: "color2"
  }, [_vm._v("育儿知识")])])])])
},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "mes-b-bot"
  }, [_c('div', {
    staticClass: "bot-box"
  }, [_c('div', {
    staticClass: "img"
  }), _vm._v(" "), _c('div', {
    staticClass: "title"
  }, [_vm._v("宝妈亲子群")]), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [_vm._v("245人在热聊中")])]), _vm._v(" "), _c('div', {
    staticClass: "bot-box"
  }, [_c('div', {
    staticClass: "img"
  }), _vm._v(" "), _c('div', {
    staticClass: "title"
  }, [_vm._v("宝妈亲子群")]), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [_vm._v("245人在热聊中")])]), _vm._v(" "), _c('div', {
    staticClass: "bot-box"
  }, [_c('div', {
    staticClass: "img"
  }), _vm._v(" "), _c('div', {
    staticClass: "title"
  }, [_vm._v("宝妈亲子群")]), _vm._v(" "), _c('div', {
    staticClass: "tips"
  }, [_vm._v("245人在热聊中")])])])
}]}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-loader/node_modules/vue-hot-reload-api").rerender("data-v-568b0fdf", module.exports)
  }
}

/***/ })

});